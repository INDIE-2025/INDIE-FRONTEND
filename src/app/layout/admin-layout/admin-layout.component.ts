import { Component, input, Input } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

export interface TabItem {
  id: string;
  label: string;
  icon: string;
  route: string;
  active?: boolean;
}

@Component({
  selector: 'admin-layout',
  standalone: true,
  imports: [CommonModule, RouterModule],
  templateUrl: './admin-layout.component.html',
  styleUrl: './admin-layout.component.css',
})
export class AdminLayoutComponent {

  tabs: { id: string; label: string; icon: SafeHtml; route: string }[] = [];

  constructor(private sanitizer: DomSanitizer) {

    const usuarioSvg = `
        <path d="M12.6667 14.8V13.4667C12.6667 12.7594 12.3857 12.0811 11.8856 11.581C11.3855 11.0809 10.7073 10.8 10 10.8H6.00001C5.29277 10.8 4.61449 11.0809 4.11439 11.581C3.61429 12.0811 3.33334 12.7594 3.33334 13.4667V14.8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M8.00001 8.13332C9.47277 8.13332 10.6667 6.93941 10.6667 5.46665C10.6667 3.9939 9.47277 2.79999 8.00001 2.79999C6.52725 2.79999 5.33334 3.9939 5.33334 5.46665C5.33334 6.93941 6.52725 8.13332 8.00001 8.13332Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `;
    const comentarioSvg = ` 
        <path d="M14.6667 10.8C14.6667 11.1536 14.5262 11.4927 14.2762 11.7428C14.0261 11.9928 13.687 12.1333 13.3334 12.1333H5.33335L2.66669 14.8V4.13332C2.66669 3.7797 2.80716 3.44056 3.05721 3.19051C3.30726 2.94046 3.6464 2.79999 4.00002 2.79999H13.3334C13.687 2.79999 14.0261 2.94046 14.2762 3.19051C14.5262 3.44056 14.6667 3.7797 14.6667 4.13332V10.8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `;

    const configSvg = `
        <g clip-path="url(#clip0_268_29)">
          <path d="M8.42999 2.13332H8.13666C7.78304 2.13332 7.4439 2.2738 7.19385 2.52385C6.9438 2.77389 6.80333 3.11303 6.80333 3.46666V3.58665C6.80309 3.82047 6.74136 4.05011 6.62435 4.25255C6.50734 4.45498 6.33915 4.62308 6.13666 4.73999L5.84999 4.90665C5.6473 5.02368 5.41738 5.08529 5.18333 5.08529C4.94928 5.08529 4.71935 5.02368 4.51666 4.90665L4.41666 4.85332C4.1107 4.67683 3.74722 4.62895 3.40599 4.72019C3.06477 4.81144 2.77369 5.03435 2.59666 5.33999L2.44999 5.59332C2.2735 5.89928 2.22562 6.26276 2.31687 6.60399C2.40811 6.94521 2.63102 7.23629 2.93666 7.41332L3.03666 7.47999C3.23818 7.59633 3.40574 7.76338 3.52269 7.96454C3.63965 8.1657 3.70192 8.39397 3.70333 8.62665V8.96665C3.70426 9.2016 3.64309 9.43262 3.52602 9.63633C3.40895 9.84003 3.24013 10.0092 3.03666 10.1267L2.93666 10.1867C2.63102 10.3637 2.40811 10.6548 2.31687 10.996C2.22562 11.3372 2.2735 11.7007 2.44999 12.0067L2.59666 12.26C2.77369 12.5656 3.06477 12.7885 3.40599 12.8798C3.74722 12.971 4.1107 12.9231 4.41666 12.7467L4.51666 12.6933C4.71935 12.5763 4.94928 12.5147 5.18333 12.5147C5.41738 12.5147 5.6473 12.5763 5.84999 12.6933L6.13666 12.86C6.33915 12.9769 6.50734 13.145 6.62435 13.3474C6.74136 13.5499 6.80309 13.7795 6.80333 14.0133V14.1333C6.80333 14.4869 6.9438 14.8261 7.19385 15.0761C7.4439 15.3262 7.78304 15.4667 8.13666 15.4667H8.42999C8.78362 15.4667 9.12275 15.3262 9.3728 15.0761C9.62285 14.8261 9.76333 14.4869 9.76333 14.1333V14.0133C9.76357 13.7795 9.82529 13.5499 9.9423 13.3474C10.0593 13.145 10.2275 12.9769 10.43 12.86L10.7167 12.6933C10.9194 12.5763 11.1493 12.5147 11.3833 12.5147C11.6174 12.5147 11.8473 12.5763 12.05 12.6933L12.15 12.7467C12.4559 12.9231 12.8194 12.971 13.1607 12.8798C13.5019 12.7885 13.793 12.5656 13.97 12.26L14.1167 12C14.2932 11.694 14.341 11.3305 14.2498 10.9893C14.1585 10.6481 13.9356 10.357 13.63 10.18L13.53 10.1267C13.3265 10.0092 13.1577 9.84003 13.0406 9.63633C12.9236 9.43262 12.8624 9.2016 12.8633 8.96665V8.63332C12.8624 8.39837 12.9236 8.16735 13.0406 7.96365C13.1577 7.75995 13.3265 7.59079 13.53 7.47332L13.63 7.41332C13.9356 7.23629 14.1585 6.94521 14.2498 6.60399C14.341 6.26276 14.2932 5.89928 14.1167 5.59332L13.97 5.33999C13.793 5.03435 13.5019 4.81144 13.1607 4.72019C12.8194 4.62895 12.4559 4.67683 12.15 4.85332L12.05 4.90665C11.8473 5.02368 11.6174 5.08529 11.3833 5.08529C11.1493 5.08529 10.9194 5.02368 10.7167 4.90665L10.43 4.73999C10.2275 4.62308 10.0593 4.45498 9.9423 4.25255C9.82529 4.05011 9.76357 3.82047 9.76333 3.58665V3.46666C9.76333 3.11303 9.62285 2.77389 9.3728 2.52385C9.12275 2.2738 8.78362 2.13332 8.42999 2.13332Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M8.28333 10.8C9.38789 10.8 10.2833 9.90456 10.2833 8.79999C10.2833 7.69542 9.38789 6.79999 8.28333 6.79999C7.17876 6.79999 6.28333 7.69542 6.28333 8.79999C6.28333 9.90456 7.17876 10.8 8.28333 10.8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
        <defs>
          <clipPath id="clip0_268_29">
           <rect width="16" height="16" fill="white" transform="translate(0.283325 0.799988)"/>
          </clipPath>
        </defs>
    `;
    const bdSvg = ` 
        <path d="M8 5.33333C11.3137 5.33333 14 4.4379 14 3.33333C14 2.22876 11.3137 1.33333 8 1.33333C4.68629 1.33333 2 2.22876 2 3.33333C2 4.4379 4.68629 5.33333 8 5.33333Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M2 3.33333V12.6667C2 13.1971 2.63214 13.7058 3.75736 14.0809C4.88258 14.456 6.4087 14.6667 8 14.6667C9.5913 14.6667 11.1174 14.456 12.2426 14.0809C13.3679 13.7058 14 13.1971 14 12.6667V3.33333" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M2 8C2 8.53043 2.63214 9.03914 3.75736 9.41421C4.88258 9.78929 6.4087 10 8 10C9.5913 10 11.1174 9.78929 12.2426 9.41421C13.3679 9.03914 14 8.53043 14 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `;
    const tipoUsuarioSvg = ` 
        <g clip-path="url(#clip0_268_41)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M12 4.5C10.7574 4.5 9.75 5.50736 9.75 6.75C9.75 7.99267 10.7574 9 12 9C13.2427 9 14.25 7.99267 14.25 6.75C14.25 5.50736 13.2427 4.5 12 4.5ZM8.25 6.75C8.25 4.67893 9.92895 3 12 3C14.071 3 15.75 4.67893 15.75 6.75C15.75 7.73947 15.3667 8.63947 14.7407 9.3096C16.1213 9.7593 17.1882 10.6495 17.8698 11.6497C18.1031 11.992 18.0146 12.4585 17.6723 12.6918C17.3301 12.925 16.8634 12.8366 16.6302 12.4943C15.8984 11.4205 14.5633 10.5 12.75 10.5C9.8745 10.5 8.25 12.8056 8.25 14.25C8.25 14.6642 7.91423 15 7.5 15C7.0858 15 6.75001 14.6642 6.75001 14.25C6.75001 13.731 6.86886 13.1775 7.09562 12.6319C7.03784 12.5948 6.98422 12.5492 6.93667 12.4951C6.32103 11.7946 5.36563 11.25 4.12501 11.25C2.88439 11.25 1.92899 11.7946 1.31335 12.4951C1.03991 12.8062 0.566019 12.8368 0.254891 12.5633C-0.0562357 12.2899 -0.0867819 11.816 0.186664 11.5048C0.606776 11.0269 1.13838 10.6023 1.76794 10.2905C1.13992 9.67762 0.750007 8.82187 0.750007 7.875C0.750007 6.01104 2.26105 4.5 4.12501 4.5C5.98897 4.5 7.5 6.01104 7.5 7.875C7.5 8.82187 7.1101 9.67762 6.48209 10.2905C7.02389 10.5589 7.49314 10.9107 7.88122 11.3083C8.364 10.6994 8.99145 10.1536 9.74415 9.74587C8.83665 9.06142 8.25 7.97422 8.25 6.75ZM2.25001 7.875C2.25001 6.83947 3.08947 6 4.12501 6C5.16054 6 6.00001 6.83947 6.00001 7.875C6.00001 8.91052 5.16054 9.75 4.12501 9.75C3.08947 9.75 2.25001 8.91052 2.25001 7.875Z" fill="currentColor"/>
        </g>
        <defs>
          <clipPath id="clip0_268_41">
            <rect width="18" height="18" fill="currentColor"/>
          </clipPath>
        </defs>
    `;
    const reporteSvg = ` 
        <path d="M17.9353 13.7821L16.3326 11.7667V3.29098C16.3326 2.88098 16.0001 2.54844 15.5901 2.54844H2.40957C1.99958 2.54844 1.66739 2.88095 1.66739 3.29098V11.7667L0.0644766 13.7821C0.0225 13.8346 0 13.8997 0 13.9672V14.8592C0 15.1865 0.265043 15.4515 0.592066 15.4515H17.4077C17.7347 15.4515 18 15.1865 18 14.8592V13.9672C18 13.8997 17.9772 13.8346 17.9353 13.7821ZM2.71473 3.59613H15.285V10.719H2.71473V3.59613ZM10.6917 14.7471H7.30832V13.8514H10.6917V14.7471Z" fill="currentColor"/>
        <path d="M5.88777 8.62436H4.64288V9.86924H5.88777V8.62436Z" fill="currentColor"/>
        <path d="M7.75508 7.37944H6.51019V9.86924H7.75508V7.37944Z" fill="currentColor"/>
        <path d="M9.62245 6.757H8.37756V9.86924H9.62245V6.757Z" fill="currentColor"/>
        <path d="M11.4898 4.88967H10.2449V9.86927H11.4898V4.88967Z" fill="currentColor"/>
        <path d="M13.3571 6.13455H12.1122V9.86924H13.3571V6.13455Z" fill="currentColor"/>
      `;

    this.tabs = [
      {
        id: 'usuarios',
        label: 'Administrar usuarios',
        icon: this.sanitizeSvg(usuarioSvg),
        route: '/admin/usuarios'
      },
      {
        id: 'comentarios',
        label: 'Administrar comentarios',
        icon: this.sanitizeSvg(comentarioSvg),
        route: '/admin/comentarios'
      },
      {
        id: 'parametros',
        label: 'Configurar parámetros',
        icon: this.sanitizeSvg(configSvg),
        route: '/admin/configuracion'
      },
      {
        id: 'backup',
        label: 'Backup y recuperación',
        icon: this.sanitizeSvg(bdSvg),
        route: '/admin/backup-recuperacion'
      },
      {
        id: 'tipos',
        label: 'Administrar tipos de usuario',
        icon: this.sanitizeSvg(tipoUsuarioSvg),
        route: '/admin/tipos-usuario'
      },
      {
        id: 'reportes',
        label: 'Reportes',
        icon: this.sanitizeSvg(reporteSvg),
        route: '/admin/reportes'
      }
    ];
  }
    sanitizeSvg(svg: string): SafeHtml {
      return this.sanitizer.bypassSecurityTrustHtml(svg);
    }
}

